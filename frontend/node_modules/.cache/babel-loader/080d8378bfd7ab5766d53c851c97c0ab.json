{"ast":null,"code":"import _slicedToArray from \"E:\\\\ING4\\\\Webdynamique\\\\ProjetREACT\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useControlled as useControlled, unstable_useForkRef as useForkRef, unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\n/**\n * The basic building block for creating custom switches.\n *\n * Demos:\n *\n * - [Switches](https://mui.com/components/switches/)\n */\n\nexport default function useSwitch(props) {\n  const checkedProp = props.checked,\n        defaultChecked = props.defaultChecked,\n        disabled = props.disabled,\n        onBlur = props.onBlur,\n        onChange = props.onChange,\n        onFocus = props.onFocus,\n        onFocusVisible = props.onFocusVisible,\n        readOnly = props.readOnly,\n        required = props.required;\n\n  const _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'Switch',\n    state: 'checked'\n  }),\n        _useControlled2 = _slicedToArray(_useControlled, 2),\n        checked = _useControlled2[0],\n        setCheckedState = _useControlled2[1];\n\n  const createHandleInputChange = otherProps => event => {\n    var _otherProps$onChange; // Workaround for https://github.com/facebook/react/issues/9023\n\n\n    if (event.nativeEvent.defaultPrevented) {\n      return;\n    }\n\n    setCheckedState(event.target.checked);\n    onChange == null ? void 0 : onChange(event);\n    (_otherProps$onChange = otherProps.onChange) == null ? void 0 : _otherProps$onChange.call(otherProps, event);\n  };\n\n  const _useIsFocusVisible = useIsFocusVisible(),\n        isFocusVisibleRef = _useIsFocusVisible.isFocusVisibleRef,\n        handleBlurVisible = _useIsFocusVisible.onBlur,\n        handleFocusVisible = _useIsFocusVisible.onFocus,\n        focusVisibleRef = _useIsFocusVisible.ref;\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        focusVisible = _React$useState2[0],\n        setFocusVisible = _React$useState2[1];\n\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n\n  React.useEffect(() => {\n    isFocusVisibleRef.current = focusVisible;\n  }, [focusVisible, isFocusVisibleRef]);\n  const inputRef = React.useRef(null);\n\n  const createHandleFocus = otherProps => event => {\n    var _otherProps$onFocus; // Fix for https://github.com/facebook/react/issues/7769\n\n\n    if (!inputRef.current) {\n      inputRef.current = event.currentTarget;\n    }\n\n    handleFocusVisible(event);\n\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n      onFocusVisible == null ? void 0 : onFocusVisible(event);\n    }\n\n    onFocus == null ? void 0 : onFocus(event);\n    (_otherProps$onFocus = otherProps.onFocus) == null ? void 0 : _otherProps$onFocus.call(otherProps, event);\n  };\n\n  const createHandleBlur = otherProps => event => {\n    var _otherProps$onBlur;\n\n    handleBlurVisible(event);\n\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n\n    onBlur == null ? void 0 : onBlur(event);\n    (_otherProps$onBlur = otherProps.onBlur) == null ? void 0 : _otherProps$onBlur.call(otherProps, event);\n  };\n\n  const handleRefChange = useForkRef(focusVisibleRef, inputRef);\n\n  const getInputProps = (otherProps = {}) => _extends({\n    checked: checkedProp,\n    defaultChecked,\n    disabled,\n    readOnly,\n    ref: handleRefChange,\n    required,\n    type: 'checkbox'\n  }, otherProps, {\n    onChange: createHandleInputChange(otherProps),\n    onFocus: createHandleFocus(otherProps),\n    onBlur: createHandleBlur(otherProps)\n  });\n\n  return {\n    checked,\n    disabled: Boolean(disabled),\n    focusVisible,\n    getInputProps,\n    readOnly: Boolean(readOnly)\n  };\n}","map":null,"metadata":{},"sourceType":"module"}